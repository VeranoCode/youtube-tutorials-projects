{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/components/ui/LoadingSpinner.js"],"sourcesContent":["'use client';\n\nexport default function LoadingSpinner({ size = 'default', light = false }) {\n  const sizeClasses = {\n    small: 'w-4 h-4 border-2',\n    default: 'w-8 h-8 border-4',\n    large: 'w-12 h-12 border-4'\n  };\n\n  return (\n    <div className=\"flex justify-center items-center\">\n      <div\n        className={`${sizeClasses[size]} border-t-blue-500 border-r-blue-500 border-b-blue-500 ${\n          light ? 'border-l-white/20' : 'border-l-gray-200'\n        } animate-spin rounded-full`}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEe,SAAS,eAAe,EAAE,OAAO,SAAS,EAAE,QAAQ,KAAK,EAAE;IACxE,MAAM,cAAc;QAClB,OAAO;QACP,SAAS;QACT,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,uDAAuD,EACrF,QAAQ,sBAAsB,oBAC/B,0BAA0B,CAAC;;;;;;;;;;;AAIpC"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/components/ui/Alert.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport default function Alert({\n  type = 'info',\n  message,\n  onClose,\n  autoClose = false,\n  className = ''\n}) {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    if (autoClose) {\n      const timer = setTimeout(() => {\n        setIsVisible(false);\n        onClose?.();\n      }, 5000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [autoClose, onClose]);\n\n  if (!isVisible) return null;\n\n  const styles = {\n    success: 'bg-green-50 text-green-800 border-green-200',\n    error: 'bg-red-50 text-red-800 border-red-200',\n    warning: 'bg-yellow-50 text-yellow-800 border-yellow-200',\n    info: 'bg-blue-50 text-blue-800 border-blue-200'\n  };\n\n  const icons = {\n    success: (\n      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    ),\n    error: (\n      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    ),\n    warning: (\n      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    ),\n    info: (\n      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    )\n  };\n\n  return (\n    <div\n      className={`rounded-lg border p-4 flex items-center space-x-3 ${styles[type]} ${className}`}\n      role=\"alert\"\n    >\n      <div className=\"flex-shrink-0\">{icons[type]}</div>\n      <div className=\"flex-1 text-sm font-medium\">{message}</div>\n      {onClose && (\n        <button\n          onClick={() => {\n            setIsVisible(false);\n            onClose();\n          }}\n          className=\"flex-shrink-0 ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2\"\n        >\n          <span className=\"sr-only\">Dismiss</span>\n          <svg\n            className=\"w-5 h-5\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS,MAAM,EAC5B,OAAO,MAAM,EACb,OAAO,EACP,OAAO,EACP,YAAY,KAAK,EACjB,YAAY,EAAE,EACf;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW;YACb,MAAM,QAAQ,WAAW;gBACvB,aAAa;gBACb;YACF,GAAG;YAEH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAW;KAAQ;IAEvB,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,SAAS;QACT,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,uBACE,8OAAC;YAAI,WAAU;YAAU,MAAK;YAAe,SAAQ;sBACnD,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;;QAIf,qBACE,8OAAC;YAAI,WAAU;YAAU,MAAK;YAAe,SAAQ;sBACnD,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;;QAIf,uBACE,8OAAC;YAAI,WAAU;YAAU,MAAK;YAAe,SAAQ;sBACnD,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;;QAIf,oBACE,8OAAC;YAAI,WAAU;YAAU,MAAK;YAAe,SAAQ;sBACnD,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;;IAIjB;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,kDAAkD,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAC3F,MAAK;;0BAEL,8OAAC;gBAAI,WAAU;0BAAiB,KAAK,CAAC,KAAK;;;;;;0BAC3C,8OAAC;gBAAI,WAAU;0BAA8B;;;;;;YAC5C,yBACC,8OAAC;gBACC,SAAS;oBACP,aAAa;oBACb;gBACF;gBACA,WAAU;;kCAEV,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAC1B,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,SAAQ;kCAER,cAAA,8OAAC;4BACC,UAAS;4BACT,GAAE;4BACF,UAAS;;;;;;;;;;;;;;;;;;;;;;;AAOvB"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/app/properties/%5Bid%5D/PropertyDetailsClient.js"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport Link from 'next/link';\nimport LoadingSpinner from '@/components/ui/LoadingSpinner';\nimport Alert from '@/components/ui/Alert';\n\nexport default function PropertyDetailsClient({ initialProperty }) {\n  const router = useRouter();\n  const { user } = useAuth();\n  const [property] = useState(initialProperty);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [sending, setSending] = useState(false);\n  const [enquirySent, setEnquirySent] = useState(false);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this property?')) {\n      return;\n    }\n\n    try {\n      setDeleteLoading(true);\n      setError('');\n      \n      const res = await fetch(`/api/properties/${property._id}`, {\n        method: 'DELETE',\n        credentials: 'include',\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.message || 'Failed to delete property');\n      }\n\n      router.push('/properties');\n    } catch (error) {\n      console.error('Error deleting property:', error);\n      setError(error.message || 'Error deleting property');\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleEnquiry = async (e) => {\n    e.preventDefault();\n    \n    if (!message.trim()) {\n      setError('Please enter a message');\n      return;\n    }\n\n    try {\n      setSending(true);\n      setError('');\n      \n      const res = await fetch('/api/enquiries', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          propertyId: property._id,\n          recipientId: property.owner._id,\n          message: message.trim()\n        }),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Failed to send enquiry');\n      }\n\n      setMessage('');\n      setEnquirySent(true);\n    } catch (error) {\n      console.error('Error sending enquiry:', error);\n      setError(error.message || 'Error sending enquiry');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const nextImage = () => {\n    if (property?.images?.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === property.images.length - 1 ? 0 : prev + 1\n      );\n    }\n  };\n\n  const prevImage = () => {\n    if (property?.images?.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === 0 ? property.images.length - 1 : prev - 1\n      );\n    }\n  };\n\n  if (!property) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <Alert type=\"error\" message=\"Property not found\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {error && (\n        <div className=\"mb-4\">\n          <Alert\n            type=\"error\"\n            message={error}\n            onClose={() => setError('')}\n            autoClose={true}\n          />\n        </div>\n      )}\n\n      {/* Image Carousel */}\n      <div className=\"relative mb-8 h-[500px] bg-gray-200 rounded-lg overflow-hidden\">\n        {property.images && property.images.length > 0 ? (\n          <>\n            <Image\n              src={property.images[currentImageIndex]}\n              alt={`Property image ${currentImageIndex + 1}`}\n              fill\n              className=\"object-cover\"\n              priority={currentImageIndex === 0}\n            />\n            {property.images.length > 1 && (\n              <>\n                <button\n                  onClick={prevImage}\n                  className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75\"\n                >\n                  ←\n                </button>\n                <button\n                  onClick={nextImage}\n                  className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75\"\n                >\n                  →\n                </button>\n                <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2\">\n                  {property.images.map((_, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setCurrentImageIndex(index)}\n                      className={`w-3 h-3 rounded-full ${\n                        currentImageIndex === index ? 'bg-white' : 'bg-white/50'\n                      }`}\n                    />\n                  ))}\n                </div>\n              </>\n            )}\n          </>\n        ) : (\n          <div className=\"flex items-center justify-center h-full\">\n            <p>No images available</p>\n          </div>\n        )}\n      </div>\n\n      {/* Property Details */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        <div className=\"md:col-span-2\">\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex justify-between items-start mb-6\">\n              <div>\n                <h1 className=\"text-3xl font-bold mb-2\">{property.title}</h1>\n                <p className=\"text-gray-600 text-xl mb-2\">{property.location}</p>\n                <p className=\"text-2xl font-bold text-blue-600\">\n                  ${Number(property.price).toLocaleString()}\n                </p>\n              </div>\n              {user && user._id === property.owner._id && (\n                <div className=\"flex space-x-2\">\n                  <Link\n                    href={`/properties/edit/${property._id}`}\n                    className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 inline-flex items-center\"\n                  >\n                    Edit\n                  </Link>\n                  <button\n                    onClick={handleDelete}\n                    disabled={deleteLoading}\n                    className=\"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 disabled:bg-red-300 disabled:cursor-not-allowed inline-flex items-center\"\n                  >\n                    {deleteLoading ? (\n                      <>\n                        <LoadingSpinner size=\"small\" light />\n                        <span className=\"ml-2\">Deleting...</span>\n                      </>\n                    ) : (\n                      'Delete'\n                    )}\n                  </button>\n                </div>\n              )}\n            </div>\n\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-semibold mb-2\">Description</h2>\n              <p className=\"text-gray-700\">{property.description}</p>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div>\n                <h2 className=\"text-xl font-semibold mb-2\">Details</h2>\n                <ul className=\"space-y-2\">\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Property Type:</span>\n                    {property.propertyType}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Status:</span>\n                    {property.status}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Area:</span>\n                    {property.features?.area} sq ft\n                  </li>\n                </ul>\n              </div>\n              <div>\n                <h2 className=\"text-xl font-semibold mb-2\">Features</h2>\n                <ul className=\"space-y-2\">\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Bedrooms:</span>\n                    {property.features?.bedrooms}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Bathrooms:</span>\n                    {property.features?.bathrooms}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Parking:</span>\n                    {property.features?.parking ? 'Yes' : 'No'}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Furnished:</span>\n                    {property.features?.furnished ? 'Yes' : 'No'}\n                  </li>\n                </ul>\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-xl font-semibold mb-2\">Location</h2>\n              <div className=\"bg-gray-100 p-4 rounded-lg\">\n                <p className=\"mb-1\">{property.address?.street}</p>\n                <p className=\"mb-1\">\n                  {property.address?.city}, {property.address?.state} {property.address?.zipCode}\n                </p>\n                <p>{property.address?.country}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Contact Section */}\n        <div className=\"md:col-span-1\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 sticky top-4\">\n            <h2 className=\"text-xl font-semibold mb-4\">Contact Agent</h2>\n            {user ? (\n              user._id !== property.owner._id ? (\n                enquirySent ? (\n                  <Alert\n                    type=\"success\"\n                    message=\"Your message has been sent successfully! The agent will contact you soon.\"\n                    onClose={() => setEnquirySent(false)}\n                    className=\"mb-4\"\n                  />\n                ) : (\n                  <form onSubmit={handleEnquiry} className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700\">\n                        Message\n                      </label>\n                      <textarea\n                        value={message}\n                        onChange={(e) => setMessage(e.target.value)}\n                        className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                        rows=\"4\"\n                        placeholder=\"I'm interested in this property...\"\n                        required\n                      ></textarea>\n                    </div>\n                    <button\n                      type=\"submit\"\n                      disabled={sending}\n                      className=\"w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center justify-center\"\n                    >\n                      {sending ? (\n                        <>\n                          <LoadingSpinner size=\"small\" light />\n                          <span className=\"ml-2\">Sending...</span>\n                        </>\n                      ) : (\n                        'Send Message'\n                      )}\n                    </button>\n                  </form>\n                )\n              ) : (\n                <div className=\"text-center text-gray-500\">\n                  This is your property listing\n                </div>\n              )\n            ) : (\n              <div className=\"text-center\">\n                <p className=\"mb-4\">Please login to contact the agent</p>\n                <Link\n                  href=\"/login\"\n                  className=\"block w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n                >\n                  Login\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst MONGODB_URI = \"mongodb://localhost:27017/real-estate-v4\";\n\nif (!MONGODB_URI) {\n  throw new Error(\n    \"Please define the MONGODB_URI environment variable inside .env\"\n  );\n}\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function connectDB() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n    };\n\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\n      return mongoose;\n    });\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    cached.promise = null;\n    throw e;\n  }\n\n  return cached.conn;\n}\n\nexport default connectDB;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc;AAEpB,uCAAkB;;AAIlB;AAEA,IAAI,SAAS,OAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,OAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,OAAO;QACT;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe"}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 998, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/models/property.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst propertySchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: [true, 'Please provide property title'],\n    trim: true,\n    maxlength: [100, 'Title cannot be more than 100 characters']\n  },\n  description: {\n    type: String,\n    required: [true, 'Please provide property description'],\n    maxlength: [2000, 'Description cannot be more than 2000 characters']\n  },\n  price: {\n    type: Number,\n    required: [true, 'Please provide property price']\n  },\n  location: {\n    type: String,\n    required: [true, 'Please provide property location']\n  },\n  address: {\n    street: String,\n    city: String,\n    state: String,\n    zipCode: String,\n    country: String\n  },\n  propertyType: {\n    type: String,\n    required: [true, 'Please provide property type'],\n    enum: ['House', 'Apartment', 'Condo', 'Townhouse', 'Land', 'Commercial']\n  },\n  features: {\n    bedrooms: Number,\n    bathrooms: Number,\n    area: Number, // in square feet\n    parking: Boolean,\n    furnished: Boolean\n  },\n  images: [{\n    type: String,\n    required: [true, 'Please provide at least one image']\n  }],\n  status: {\n    type: String,\n    enum: ['For Sale', 'For Rent', 'Sold', 'Rented'],\n    default: 'For Sale'\n  },\n  owner: {\n    type: mongoose.Schema.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\n\n// Add index for better search performance\npropertySchema.index({ location: 'text', title: 'text', description: 'text' });\n\nconst Property = mongoose.models.Property || mongoose.model('Property', propertySchema);\n\nexport default Property;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,iBAAiB,IAAI,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC;IACzC,OAAO;QACL,MAAM;QACN,UAAU;YAAC;YAAM;SAAgC;QACjD,MAAM;QACN,WAAW;YAAC;YAAK;SAA2C;IAC9D;IACA,aAAa;QACX,MAAM;QACN,UAAU;YAAC;YAAM;SAAsC;QACvD,WAAW;YAAC;YAAM;SAAkD;IACtE;IACA,OAAO;QACL,MAAM;QACN,UAAU;YAAC;YAAM;SAAgC;IACnD;IACA,UAAU;QACR,MAAM;QACN,UAAU;YAAC;YAAM;SAAmC;IACtD;IACA,SAAS;QACP,QAAQ;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,SAAS;IACX;IACA,cAAc;QACZ,MAAM;QACN,UAAU;YAAC;YAAM;SAA+B;QAChD,MAAM;YAAC;YAAS;YAAa;YAAS;YAAa;YAAQ;SAAa;IAC1E;IACA,UAAU;QACR,UAAU;QACV,WAAW;QACX,MAAM;QACN,SAAS;QACT,WAAW;IACb;IACA,QAAQ;QAAC;YACP,MAAM;YACN,UAAU;gBAAC;gBAAM;aAAoC;QACvD;KAAE;IACF,QAAQ;QACN,MAAM;QACN,MAAM;YAAC;YAAY;YAAY;YAAQ;SAAS;QAChD,SAAS;IACX;IACA,OAAO;QACL,MAAM,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,QAAQ;QAC9B,KAAK;QACL,UAAU;IACZ;IACA,WAAW;QACT,MAAM;QACN,SAAS,KAAK,GAAG;IACnB;AACF;AAEA,0CAA0C;AAC1C,eAAe,KAAK,CAAC;IAAE,UAAU;IAAQ,OAAO;IAAQ,aAAa;AAAO;AAE5E,MAAM,WAAW,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,QAAQ,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAC,YAAY;uCAEzD"}},
    {"offset": {"line": 1107, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1113, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/app/properties/%5Bid%5D/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport Link from 'next/link';\nimport Image from 'next/image';\n\nexport default function PropertyDetailsClient({ initialProperty }) {\n  const router = useRouter();\n  const params = useParams();\n  const { user } = useAuth();\n  const [property, setProperty] = useState(initialProperty);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  useEffect(() => {\n    if (params.id && !initialProperty) {\n      fetchProperty();\n    }\n  }, [params.id]);\n\n  const fetchProperty = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const res = await fetch(`/api/properties/${params.id}`);\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.message || 'Failed to fetch property');\n      }\n\n      if (!data.property) {\n        throw new Error('Property not found');\n      }\n\n      setProperty(data.property);\n    } catch (error) {\n      console.error('Error fetching property:', error);\n      setError(error.message || 'Error fetching property');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this property?')) {\n      return;\n    }\n\n    try {\n      const res = await fetch(`/api/properties/${params.id}`, {\n        method: 'DELETE',\n        credentials: 'include',\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.message || 'Failed to delete property');\n      }\n\n      router.push('/properties');\n    } catch (error) {\n      console.error('Error deleting property:', error);\n      setError(error.message || 'Error deleting property');\n    }\n  };\n\n  const nextImage = () => {\n    if (property?.images?.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === property.images.length - 1 ? 0 : prev + 1\n      );\n    }\n  };\n\n  const prevImage = () => {\n    if (property?.images?.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === 0 ? property.images.length - 1 : prev - 1\n      );\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">Loading property details...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center text-red-500\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!property) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">Property not found</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {/* Image Carousel */}\n      <div className=\"relative mb-8 h-[500px] bg-gray-200 rounded-lg overflow-hidden\">\n        {property.images && property.images.length > 0 ? (\n          <>\n            <Image\n              src={property.images[currentImageIndex]}\n              alt={`Property image ${currentImageIndex + 1}`}\n              fill\n              className=\"object-cover\"\n              priority={currentImageIndex === 0}\n            />\n            {property.images.length > 1 && (\n              <>\n                <button\n                  onClick={prevImage}\n                  className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75\"\n                >\n                  ←\n                </button>\n                <button\n                  onClick={nextImage}\n                  className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75\"\n                >\n                  →\n                </button>\n                <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2\">\n                  {property.images.map((_, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setCurrentImageIndex(index)}\n                      className={`w-3 h-3 rounded-full ${\n                        currentImageIndex === index ? 'bg-white' : 'bg-white/50'\n                      }`}\n                    />\n                  ))}\n                </div>\n              </>\n            )}\n          </>\n        ) : (\n          <div className=\"flex items-center justify-center h-full\">\n            <p>No images available</p>\n          </div>\n        )}\n      </div>\n\n      {/* Property Details */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        <div className=\"md:col-span-2\">\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex justify-between items-start mb-6\">\n              <div>\n                <h1 className=\"text-3xl font-bold mb-2\">{property.title}</h1>\n                <p className=\"text-gray-600 text-xl mb-2\">{property.location}</p>\n                <p className=\"text-2xl font-bold text-blue-600\">\n                  ${Number(property.price).toLocaleString()}\n                </p>\n              </div>\n              {user && user._id === property.owner._id && (\n                <div className=\"flex space-x-2\">\n                  <Link\n                    href={`/properties/edit/${property._id}`}\n                    className=\"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n                  >\n                    Edit\n                  </Link>\n                  <button\n                    onClick={handleDelete}\n                    className=\"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              )}\n            </div>\n\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-semibold mb-2\">Description</h2>\n              <p className=\"text-gray-700\">{property.description}</p>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div>\n                <h2 className=\"text-xl font-semibold mb-2\">Details</h2>\n                <ul className=\"space-y-2\">\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Property Type:</span>\n                    {property.propertyType}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Status:</span>\n                    {property.status}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Area:</span>\n                    {property.features?.area} sq ft\n                  </li>\n                </ul>\n              </div>\n              <div>\n                <h2 className=\"text-xl font-semibold mb-2\">Features</h2>\n                <ul className=\"space-y-2\">\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Bedrooms:</span>\n                    {property.features?.bedrooms}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Bathrooms:</span>\n                    {property.features?.bathrooms}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Parking:</span>\n                    {property.features?.parking ? 'Yes' : 'No'}\n                  </li>\n                  <li className=\"flex items-center\">\n                    <span className=\"font-medium mr-2\">Furnished:</span>\n                    {property.features?.furnished ? 'Yes' : 'No'}\n                  </li>\n                </ul>\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-xl font-semibold mb-2\">Location</h2>\n              <div className=\"bg-gray-100 p-4 rounded-lg\">\n                <p className=\"mb-1\">{property.address?.street}</p>\n                <p className=\"mb-1\">\n                  {property.address?.city}, {property.address?.state} {property.address?.zipCode}\n                </p>\n                <p>{property.address?.country}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Contact Section */}\n        <div className=\"md:col-span-1\">\n          <div className=\"bg-white rounded-lg shadow-md p-6 sticky top-4\">\n            <h2 className=\"text-xl font-semibold mb-4\">Contact Agent</h2>\n            {user ? (\n              <form className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Message\n                  </label>\n                  <textarea\n                    className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                    rows=\"4\"\n                    placeholder=\"I'm interested in this property...\"\n                  ></textarea>\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n                >\n                  Send Message\n                </button>\n              </form>\n            ) : (\n              <div className=\"text-center\">\n                <p className=\"mb-4\">Please login to contact the agent</p>\n                <Link\n                  href=\"/login\"\n                  className=\"block w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600\"\n                >\n                  Login\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nimport PropertyDetailsClient from './PropertyDetailsClient';\nimport connectDB from '@/lib/db';\nimport Property from '@/models/property';\n\nasync function getProperty(id) {\n  try {\n    await connectDB();\n    const property = await Property.findById(id)\n      .populate('owner', 'name email');\n    \n    if (!property) {\n      throw new Error('Property not found');\n    }\n\n    return JSON.parse(JSON.stringify(property));\n  } catch (error) {\n    console.error('Error fetching property:', error);\n    throw error;\n  }\n}\n\nexport default async function PropertyDetailsPage({ params }) {\n  try {\n    const property = await getProperty(params.id);\n    return <PropertyDetailsClient initialProperty={property} />;\n  } catch (error) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center text-red-500\">\n          {error.message || 'Error loading property'}\n        </div>\n      </div>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1826, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}