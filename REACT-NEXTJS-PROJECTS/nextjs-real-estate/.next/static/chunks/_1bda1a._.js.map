{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/components/DashboardTabs.js"],"sourcesContent":["export default function DashboardTabs({ activeTab, setActiveTab }) {\n  const tabs = [\n    { id: 'listings', label: 'Listings' },\n    { id: 'enquiries', label: 'Enquiries' },\n  ];\n\n  return (\n    <div className=\"border-b border-gray-200\">\n      <nav className=\"-mb-px flex space-x-8\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id)}\n            className={`\n              ${\n                activeTab === tab.id\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }\n              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm\n            `}\n          >\n            {tab.label}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS,cAAc,EAAE,SAAS,EAAE,YAAY,EAAE;IAC/D,MAAM,OAAO;QACX;YAAE,IAAI;YAAY,OAAO;QAAW;QACpC;YAAE,IAAI;YAAa,OAAO;QAAY;KACvC;IAED,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,6LAAC;oBAEC,SAAS,IAAM,aAAa,IAAI,EAAE;oBAClC,WAAW,CAAC;cACV,EACE,cAAc,IAAI,EAAE,GAChB,kCACA,6EACL;;YAEH,CAAC;8BAEA,IAAI,KAAK;mBAXL,IAAI,EAAE;;;;;;;;;;;;;;;AAiBvB;KA5BwB"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/components/ListingManagement.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\nexport default function ListingManagement() {\n  const [listings, setListings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    fetchListings();\n  }, []);\n\n  const fetchListings = async () => {\n    try {\n      // Get the token from localStorage\n      const token = localStorage.getItem('token');\n      if (!token) {\n        router.push('/login');\n        return;\n      }\n\n      const response = await fetch('/api/listings/my-listings', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.status === 401) {\n        // Token is invalid or expired\n        localStorage.removeItem('token');\n        router.push('/login');\n        return;\n      }\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch listings');\n      }\n\n      const data = await response.json();\n      setListings(data);\n      setError(null);\n    } catch (error) {\n      console.error('Failed to fetch listings:', error);\n      setError('Failed to load listings. Please try again later.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async (listingId) => {\n    if (!confirm('Are you sure you want to delete this listing?')) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        router.push('/login');\n        return;\n      }\n\n      const response = await fetch(`/api/listings/${listingId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (response.status === 401) {\n        localStorage.removeItem('token');\n        router.push('/login');\n        return;\n      }\n      \n      if (response.ok) {\n        setListings(listings.filter(listing => listing._id !== listingId));\n      } else {\n        throw new Error('Failed to delete listing');\n      }\n    } catch (error) {\n      console.error('Failed to delete listing:', error);\n      alert('Failed to delete listing. Please try again.');\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8 text-red-500\">\n        {error}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-xl font-semibold\">My Listings</h2>\n        <Link \n          href=\"/listings/create\" \n          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors\"\n        >\n          Add New Listing\n        </Link>\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {listings.map((listing) => (\n          <div key={listing._id} className=\"border rounded-lg p-4 shadow hover:shadow-md transition-shadow\">\n            <div className=\"relative pb-[60%] mb-4\">\n              <img \n                src={listing.images[0] || '/placeholder.jpg'} \n                alt={listing.title}\n                className=\"absolute inset-0 w-full h-full object-cover rounded\"\n              />\n            </div>\n            <h3 className=\"font-semibold text-lg mb-2\">{listing.title}</h3>\n            <p className=\"text-gray-600 mb-2\">${listing.price.toLocaleString()}</p>\n            <div className=\"flex space-x-2\">\n              <Link \n                href={`/listings/edit/${listing._id}`}\n                className=\"flex-1 text-center bg-gray-100 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-200 transition-colors\"\n              >\n                Edit\n              </Link>\n              <button\n                onClick={() => handleDelete(listing._id)}\n                className=\"flex-1 bg-red-100 text-red-700 px-3 py-1.5 rounded hover:bg-red-200 transition-colors\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {listings.length === 0 && (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\n          <p className=\"text-gray-500 mb-4\">No listings found.</p>\n          <Link \n            href=\"/listings/create\"\n            className=\"text-blue-500 hover:text-blue-600 transition-colors\"\n          >\n            Create your first listing â†’\n          </Link>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR;QACF;sCAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,IAAI;YACF,kCAAkC;YAClC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,WAAW,MAAM,MAAM,6BAA6B;gBACxD,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;YACF;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,8BAA8B;gBAC9B,aAAa,UAAU,CAAC;gBACxB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,YAAY;YACZ,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,kDAAkD;QAE/D,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,WAAW,MAAM,MAAM,CAAC,cAAc,EAAE,WAAW,EAAE;gBACzD,QAAQ;gBACR,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;YACF;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,aAAa,UAAU,CAAC;gBACxB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,YAAY,SAAS,MAAM,CAAC,CAAA,UAAW,QAAQ,GAAG,KAAK;YACzD,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM;QACR;IACF;IAEA,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;sBACZ;;;;;;IAGP;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKH,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;wBAAsB,WAAU;;0CAC/B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,KAAK,QAAQ,MAAM,CAAC,EAAE,IAAI;oCAC1B,KAAK,QAAQ,KAAK;oCAClB,WAAU;;;;;;;;;;;0CAGd,6LAAC;gCAAG,WAAU;0CAA8B,QAAQ,KAAK;;;;;;0CACzD,6LAAC;gCAAE,WAAU;;oCAAqB;oCAAE,QAAQ,KAAK,CAAC,cAAc;;;;;;;0CAChE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAM,CAAC,eAAe,EAAE,QAAQ,GAAG,EAAE;wCACrC,WAAU;kDACX;;;;;;kDAGD,6LAAC;wCACC,SAAS,IAAM,aAAa,QAAQ,GAAG;wCACvC,WAAU;kDACX;;;;;;;;;;;;;uBApBK,QAAQ,GAAG;;;;;;;;;;YA4BxB,SAAS,MAAM,KAAK,mBACnB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAClC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX;GAxJwB;;QAIP,qIAAA,CAAA,YAAS;;;KAJF"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/components/EnquiryManagement.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport default function EnquiryManagement() {\n  const [enquiries, setEnquiries] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    fetchEnquiries();\n  }, []);\n\n  const fetchEnquiries = async () => {\n    try {\n      const response = await fetch('/api/enquiries/my-enquiries');\n      if (response.ok) {\n        const data = await response.json();\n        setEnquiries(data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch enquiries:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleStatusUpdate = async (enquiryId, newStatus) => {\n    try {\n      const response = await fetch(`/api/enquiries/${enquiryId}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ status: newStatus }),\n      });\n\n      if (response.ok) {\n        setEnquiries(enquiries.map(enquiry => \n          enquiry._id === enquiryId \n            ? { ...enquiry, status: newStatus }\n            : enquiry\n        ));\n      }\n    } catch (error) {\n      console.error('Failed to update enquiry status:', error);\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading enquiries...</div>;\n  }\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-6\">Enquiries</h2>\n\n      <div className=\"space-y-4\">\n        {enquiries.map((enquiry) => (\n          <div key={enquiry._id} className=\"border rounded-lg p-4 shadow\">\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 className=\"font-semibold\">\n                  {enquiry.listing?.title || 'Listing Unavailable'}\n                </h3>\n                <p className=\"text-gray-600\">From: {enquiry.name}</p>\n                <p className=\"text-gray-600\">Email: {enquiry.email}</p>\n                <p className=\"text-gray-600\">Phone: {enquiry.phone}</p>\n              </div>\n              <select\n                value={enquiry.status}\n                onChange={(e) => handleStatusUpdate(enquiry._id, e.target.value)}\n                className=\"border rounded p-1\"\n              >\n                <option value=\"pending\">Pending</option>\n                <option value=\"contacted\">Contacted</option>\n                <option value=\"resolved\">Resolved</option>\n                <option value=\"archived\">Archived</option>\n              </select>\n            </div>\n            \n            <div className=\"bg-gray-50 p-3 rounded\">\n              <p className=\"text-gray-700\">{enquiry.message}</p>\n            </div>\n            \n            <div className=\"mt-2 text-sm text-gray-500\">\n              Received: {new Date(enquiry.createdAt).toLocaleDateString()}\n            </div>\n          </div>\n        ))}\n\n        {enquiries.length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">\n            No enquiries received yet.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR;QACF;sCAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,qBAAqB,OAAO,WAAW;QAC3C,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,eAAe,EAAE,WAAW,EAAE;gBAC1D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,QAAQ;gBAAU;YAC3C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,aAAa,UAAU,GAAG,CAAC,CAAA,UACzB,QAAQ,GAAG,KAAK,YACZ;wBAAE,GAAG,OAAO;wBAAE,QAAQ;oBAAU,IAChC;YAER;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;QACpD;IACF;IAEA,IAAI,WAAW;QACb,qBAAO,6LAAC;sBAAI;;;;;;IACd;IAEA,qBACE,6LAAC;;0BACC,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,6LAAC;gBAAI,WAAU;;oBACZ,UAAU,GAAG,CAAC,CAAC,wBACd,6LAAC;4BAAsB,WAAU;;8CAC/B,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAG,WAAU;8DACX,QAAQ,OAAO,EAAE,SAAS;;;;;;8DAE7B,6LAAC;oDAAE,WAAU;;wDAAgB;wDAAO,QAAQ,IAAI;;;;;;;8DAChD,6LAAC;oDAAE,WAAU;;wDAAgB;wDAAQ,QAAQ,KAAK;;;;;;;8DAClD,6LAAC;oDAAE,WAAU;;wDAAgB;wDAAQ,QAAQ,KAAK;;;;;;;;;;;;;sDAEpD,6LAAC;4CACC,OAAO,QAAQ,MAAM;4CACrB,UAAU,CAAC,IAAM,mBAAmB,QAAQ,GAAG,EAAE,EAAE,MAAM,CAAC,KAAK;4CAC/D,WAAU;;8DAEV,6LAAC;oDAAO,OAAM;8DAAU;;;;;;8DACxB,6LAAC;oDAAO,OAAM;8DAAY;;;;;;8DAC1B,6LAAC;oDAAO,OAAM;8DAAW;;;;;;8DACzB,6LAAC;oDAAO,OAAM;8DAAW;;;;;;;;;;;;;;;;;;8CAI7B,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAE,WAAU;kDAAiB,QAAQ,OAAO;;;;;;;;;;;8CAG/C,6LAAC;oCAAI,WAAU;;wCAA6B;wCAC/B,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB;;;;;;;;2BA3BnD,QAAQ,GAAG;;;;;oBAgCtB,UAAU,MAAM,KAAK,mBACpB,6LAAC;wBAAI,WAAU;kCAAiC;;;;;;;;;;;;;;;;;;AAO1D;GA9FwB;KAAA"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/app/dashboard/page.js"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport DashboardTabs from '@/components/DashboardTabs';\nimport ListingManagement from '@/components/ListingManagement';\nimport EnquiryManagement from '@/components/EnquiryManagement';\n\nexport default function Dashboard() {\n  const [activeTab, setActiveTab] = useState('listings');\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">Dashboard</h1>\n      \n      <DashboardTabs activeTab={activeTab} setActiveTab={setActiveTab} />\n      \n      <div className=\"mt-8\">\n        {activeTab === 'listings' ? (\n          <ListingManagement />\n        ) : (\n          <EnquiryManagement />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,6LAAC,8HAAA,CAAA,UAAa;gBAAC,WAAW;gBAAW,cAAc;;;;;;0BAEnD,6LAAC;gBAAI,WAAU;0BACZ,cAAc,2BACb,6LAAC,kIAAA,CAAA,UAAiB;;;;yCAElB,6LAAC,kIAAA,CAAA,UAAiB;;;;;;;;;;;;;;;;AAK5B;GAlBwB;KAAA"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["file:///Users/masynctech/Desktop/real-estate/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}